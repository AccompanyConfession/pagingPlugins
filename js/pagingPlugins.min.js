(function(Y,I,H,X){var E;var L;var C;var B;var W;var V=1;var P=Math.ceil(W/B);var O=5;var G="white";var Z=1;var A=function(e,d){this.$element=e,this.defaults={"color":"aqua","showCount":10,"total":150,"doSomethingFun":D},this.options=Y.extend({},this.defaults,d)};A.prototype.refresh=function(d,e){O=5;Q();d=d;e=e;c(d,e)};Y.fn.paging=function(d){E=this;L=new A(this,d);T(L.options);Q();c(W,B);return L};function T(d){C=d.color;B=d.showCount;W=d.total;D=d.doSomethingFun}function Q(){E.empty();E.append("<div class='pagingPluginsDiv'>	<div class='pagingDiv'>		<div>首页</div>		<div>←</div>		<div class='paging1'>1</div>		<div class='paging2'>2</div>		<div class='paging3'>3</div>		<div class='paging4'>4</div>		<div class='paging5'>5</div>		<div>→</div>		<div>尾页</div>	</div>	<div class='jumpDiv'>		<div></div>		<div></div>		<div></div>		<input type='text' onkeyup='value=value.replace(/^(0+)|[^\d]+/g,'')'/>		<div>跳转</div>		</div>	<div class='autoShow' >····</div></div>");Y(".pagingPluginsDiv .autoShow").click(function(){N()});Y(".jumpDiv div:last-child").click(function(){b()});Y(".pagingDiv div:first-child").click(function(){R()});Y(".pagingDiv div:nth-child(2)").click(function(){F()});Y(".pagingDiv div:nth-child(3)").click(function(){a(this)});Y(".pagingDiv div:nth-child(4)").click(function(){a(this)});Y(".pagingDiv div:nth-child(5)").click(function(){a(this)});Y(".pagingDiv div:nth-child(6)").click(function(){a(this)});Y(".pagingDiv div:nth-child(7)").click(function(){a(this)});Y(".pagingDiv div:nth-child(8)").click(function(){S()});Y(".pagingDiv div:last-child").click(function(){M()})}function N(){if(Y(".pagingDiv").css("display")=="none"){Y(".pagingDiv").css("display","inline-block");Y(".jumpDiv").css("display","none")}else{Y(".pagingDiv").css("display","none");Y(".jumpDiv").css("display","inline-block")}}function c(f,h){var g=new Array();var d=Y(".pagingDiv").children();for(var e=0;e<d.length;e++){if(Y(d[e]).css("display")!="none"){g.push(e)}}if(g.length-4==3){O=3}P=Math.ceil(f/h);f=f;h=h;Y(".paging1").css("background-color",C);Y(".jumpDiv div:first-child").text("总数:"+f);Y(".jumpDiv div:nth-child(2)").text("每页:"+h);Y(".jumpDiv div:nth-child(3)").text("总页:"+P);if(P==0){Y(".pagingPluginsDiv").remove();return}if(P==1){Y(".pagingDiv").remove();Y(".autoShow").remove();Y(".jumpDiv div:last-child").remove();Y(".jumpDiv input").remove();Y(".jumpDiv").css("display","inline-block");return}if(P<O){O=P;for(var e=0;e<g.length-4-O;e++){Y(".paging"+(e+O+1)).css("display","none")}}}function R(){V=1;D(V,B);U(G);for(var d=0;d<O;d++){var e=d+1;Y(".paging"+e).text(e)}Z=V;Y(".paging"+Z).css("background-color",C)}function M(){V=P;D(V,B);U(G);for(var d=0;d<O;d++){Y(".paging"+(d+1)).text(P-O+d+1)}Z=V;U(C)}function F(){V=(V-1==0?1:V-1);K()}function S(){V=(V==P?P:V+1);K()}function a(d){V=parseInt(Y(d).text());K()}function b(){V=Y(".jumpDiv input").val();if(V==""||V<1){V=1}if(V>P){V=P}K();Y(".pagingDiv").css("display","inline-block");Y(".jumpDiv").css("display","none")}function K(){D(V,B);U(G);Z=V;J(V);U(C)}function U(e){for(var d=1;d<=O;d++){if(Y(".paging"+d).text()==Z){Y(".paging"+d).css("background-color",e)}}}function J(f){if(f==O){if(f==P){for(var d=0;d<O;d++){Y(".paging"+d+1).text(P-O+d)}}else{var g=(f-parseInt(O/2));for(var d=0;d<O;d++){var e=d+1;Y(".paging"+e).text(g+d)}}return}if(f<=O||f<1){for(var d=0;d<O;d++){var e=d+1;Y(".paging"+e).text(e)}}else{if(f>(P-O+1)||f>=P){for(var d=0;d<O;d++){var e=d+1;Y(".paging"+e).text(P-O+d+1)}}else{var g=(f-parseInt(O/2));for(var d=0;d<O;d++){var e=d+1;Y(".paging"+e).text(g+d)}}}}var D=function(d,e){}})(jQuery,window,document);